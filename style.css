/* --- VARIABLES DE COLOR CSS --- */
:root {
    --brand-primary: #F97316;
    --brand-secondary: #3B82F6;
    --brand-blue-dark: #1e40af;
    --brand-bg: #f8fafc; /* slate-50 */
    --brand-text: #334155; /* slate-700 */
    --brand-header: #0f172a; /* slate-900 */
    --brand-surface: #ffffff; /* white */
    --brand-border: #e2e8f0; /* slate-200 */
    --brand-red: #DC2626;
    --brand-green: #16A34A;
    --brand-yellow: #ca8a04;

    /* Colores de materias */
    --color-lectura: #0284c7;
    --color-matematicas: #dc2626;
    --color-sociales: #ca8a04;
    --color-ciencias: #16a34a;
    --color-ingles: #9333ea;
}

/* --- ESTILOS DE COMPONENTES BASE --- */
.form-label {
    @apply block text-sm font-medium text-brand-text/90 mb-1;
}

.form-input {
    @apply block w-full px-3 py-2 bg-brand-surface border border-brand-border rounded-md shadow-sm
           placeholder-brand-text/40
           focus:outline-none focus:ring-2 focus:ring-brand-secondary/50 focus:border-brand-secondary
           transition duration-150 ease-in-out;
}

/* Botones Principales */
.button-primary {
    @apply inline-flex items-center justify-center px-4 py-2 bg-brand-secondary border border-transparent rounded-md
           font-semibold text-sm text-white
           hover:bg-brand-blue-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-secondary
           transition duration-200 ease-in-out shadow-sm;
}

.button-primary-green {
    @apply inline-flex items-center justify-center px-4 py-2 bg-brand-green border border-transparent rounded-md
           font-semibold text-sm text-white
           hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-green
           transition duration-200 ease-in-out shadow-sm;
}

.button-secondary {
    @apply inline-flex items-center justify-center px-4 py-2 bg-brand-surface border border-brand-border rounded-md
           font-semibold text-sm text-brand-text
           hover:bg-brand-bg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-secondary/50
           transition duration-200 ease-in-out shadow-sm;
}

.button-danger {
    @apply inline-flex items-center justify-center px-4 py-2 bg-red-50 border border-red-200 rounded-md
           font-semibold text-sm text-brand-red
           hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-400
           transition duration-200 ease-in-out shadow-sm;
}

/* --- ESTILOS DE LAYOUT (SIDEBAR Y CONTENIDO) --- */
.nav-link {
    @apply flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium text-brand-text
           hover:bg-brand-bg hover:text-brand-header
           transition-colors duration-150 ease-in-out;
}

.nav-link.active {
    @apply bg-brand-secondary/10 text-brand-secondary font-semibold;
}

.nav-link i {
    @apply w-5 h-5;
}

/* Para ocultar/mostrar secciones de admin/estudiante */
.nav-section.admin-nav,
.nav-section.student-nav {
    display: none; /* Ocultos por defecto */
}

/* Clases de utilidad */
.app-section {
    animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* --- ESTILOS DE COMPONENTES DE DASHBOARD --- */

/* Tarjetas de Informes (Estudiante) */
.report-card {
    @apply bg-brand-surface p-5 rounded-lg shadow-sm border border-brand-border
           transition-all duration-200 ease-in-out
           hover:shadow-md hover:border-brand-secondary/50;
}

.report-card-placeholder {
    @apply bg-brand-surface p-5 rounded-lg shadow-sm border border-brand-border h-40 animate-pulse;
}

/* Tarjetas de Métricas (Admin KPI) */
.kpi-card {
    @apply bg-brand-surface p-5 rounded-lg shadow-sm border border-brand-border flex flex-col;
}
.kpi-icon {
    @apply w-10 h-10 rounded-full flex items-center justify-center mb-3;
}
.kpi-icon i {
    @apply w-5 h-5;
}
.kpi-label {
    @apply text-sm text-brand-text/80 mb-1;
}
.kpi-value {
    @apply text-3xl font-bold text-brand-header;
}

/* Tabla de Gestión (Admin) */
.table-header {
    @apply px-4 py-3 text-left text-xs font-semibold text-brand-text/70 uppercase tracking-wider cursor-pointer
           hover:bg-slate-100;
}
.table-cell {
    @apply px-4 py-3 whitespace-nowrap text-sm;
}
.table-row {
    @apply border-b border-brand-border transition-colors duration-150;
}
.table-row:last-child {
    @apply border-b-0;
}
.table-row:hover {
    @apply bg-brand-bg;
}

/* --- MODALS --- */
.modal-backdrop {
    @apply fixed inset-0 z-40 bg-black/40 flex items-center justify-center p-4
           opacity-0 invisible transition-opacity duration-300 ease-in-out;
}
.modal-backdrop.shown {
    @apply opacity-100 visible;
}

.modal-container {
    @apply bg-brand-surface w-full rounded-lg shadow-2xl border border-brand-border
           transform scale-95 opacity-0 transition-all duration-300 ease-in-out;
}
.modal-backdrop.shown .modal-container {
    @apply scale-100 opacity-100;
}

.modal-header-container {
    @apply flex items-center justify-between p-4 border-b border-brand-border;
}
.modal-header {
    @apply text-lg font-semibold text-brand-header;
}
.modal-close-btn {
    @apply text-brand-text/60 hover:text-brand-red hover:bg-red-100 rounded-full p-1
           transition-colors duration-150;
}

/* Filtros de Gráfico (Modal y Estudiante) */
.chart-filter-btn {
    @apply px-3 py-1.5 border border-brand-border rounded-full
           text-sm font-medium text-brand-text
           hover:bg-brand-bg
           transition-all duration-200;
}
.chart-filter-btn.active {
    @apply bg-brand-secondary text-white border-brand-secondary;
}

/* --- ESTILOS DEL INFORME INDIVIDUAL --- */
.score-card {
    @apply bg-brand-surface p-5 rounded-lg shadow-sm border border-brand-border text-center;
}
.score-card .subject-icon {
    @apply w-10 h-10 mx-auto mb-3;
}
.score-card .score-value {
    @apply text-4xl font-extrabold text-brand-header;
}
.score-card .score-label {
    @apply text-sm font-medium text-brand-text/80;
}

.feedback-table th {
    @apply px-3 py-2 text-left text-xs font-medium text-brand-text/70 uppercase tracking-wider bg-slate-50;
}
.feedback-table td {
    @apply px-3 py-2 text-sm;
}
.feedback-table .icon-correct {
    @apply w-5 h-5 text-brand-green;
}
.feedback-table .icon-incorrect {
    @apply w-5 h-5 text-brand-red;
}

/* --- ESTILOS DE ANÁLISIS DE ÍTEMS (ADMIN) --- */
.stats-card {
    @apply bg-brand-surface p-5 rounded-lg shadow-sm border border-brand-border;
}
.stats-card-header {
    @apply flex justify-between items-center pb-3 border-b border-brand-border;
}
.stats-card-title {
    @apply text-base font-semibold text-brand-header;
}
.stats-card-pills {
    @apply flex items-center gap-2;
}
.stats-pill {
    @apply px-2.5 py-0.5 rounded-full text-xs font-medium;
}
.stats-pill-green { @apply bg-green-100 text-green-800; }
.stats-pill-yellow { @apply bg-yellow-100 text-yellow-800; }
.stats-pill-red { @apply bg-red-100 text-red-800; }
.stats-pill-gray { @apply bg-slate-100 text-slate-700; }

.distractor-bar-container {
    @apply w-full bg-slate-100 rounded-full h-2.5;
}
.distractor-bar {
    @apply h-2.5 rounded-full transition-all duration-500;
}
